{
	"name": "terraform",
	"version": "1.0.0",
	"description": "App",
	"main": "index.js",
	"scripts": {
		"init": "terraform init",
		"wait-nginx": "echo '⏳ Waiting for nginx...' && ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip) 'cloud-init status --wait > /dev/null 2>&1 && until curl -s http://localhost > /dev/null 2>&1; do sleep 1; done' && echo \"✅ Nginx is up! Visit: http://$(terraform output -raw dev_ip)\"",
		"dev": "dotenv -- terraform apply -auto-approve -var-file env.development.tfvars -var enable_ec2=true && bun run wait-nginx",
		"dev:db": "dotenv -- terraform apply -auto-approve -var-file env.development.tfvars -var enable_ec2=true -var create_database=true && bun run wait-nginx",
		"start": "dotenv -- terraform apply -auto-approve -var-file env.production.tfvars -var enable_ec2=true && bun run wait-nginx",
		"start:db": "dotenv -- terraform apply -auto-approve -var-file env.production.tfvars -var enable_ec2=true -var create_database=true && bun run wait-nginx",
		"windows": "dotenv -- terraform apply -auto-approve -var-file env.windows.tfvars -var enable_ec2=true -var 'os=windows'",
		"test": "terraform test",
		"plan": "dotenv -- terraform plan",
		"destroy": "dotenv -- terraform destroy -auto-approve",
		"validate": "terraform validate",
		"fmt": "terraform fmt",
		"output": "terraform output",
		"ip": "terraform output -raw dev_ip",
		"connect": "ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip)",
		"logs": "ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip) 'sudo cat /var/log/cloud-init-output.log'",
		"status": "ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip) 'cloud-init status --long'",
		"docker": "ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip) 'docker ps -a'",
		"nginx": "ssh -i ~/.ssh/id_ed25519 -o StrictHostKeyChecking=no ubuntu@$(terraform output -raw dev_ip) 'sudo systemctl status nginx --no-pager'"
	},
	"keywords": [],
	"author": "",
	"license": "ISC",
	"devDependencies": {
		"dotenv-cli": "^11.0.0"
	}
}
